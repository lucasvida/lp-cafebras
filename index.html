<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/scrollreveal"></script>
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
  />
    <title>[LP CAFEBRAS] - PR√â VENDA</title>
</head>
<body>

<main>
    <!-- PRIMEIRA DOBRA -->
    <section class="lp-cafebras-banner">
        <a href="#reservar">
            <img src="assets/img/banner-lp-cafebras-pre-lancamento-desktop.png" alt="Banner Caf√©bras - Fabiano Diniz" class="desktop">
            <img src="assets/img/banner-lp-cafebras-pre-lancamento-mob.png" alt="Banner Caf√©bras - Fabiano Diniz" class="mobile">
        </a>
    </section>
     <!-- SEGUNDA DOBRA -->
    <section class="lp-cafebras-cafe">
        <div class="container">
            <div class="cafe-conteudo">
                <div class="conteudo-direita">
                    <div>
                        <div class="titulo-lancamento">
                            <span class="title-h2">1¬∫ LAN√áAMENTO</span>
                            <hr>
                            <span class="title-h1">Caf√© Matas de Minas</span>
                        </div>
                    </div>
                    <div class="embalagem-cafe animate__animated animate__slideInUp">
                        <img src="assets/img/cafe-fabiano-diniz.png" alt="" class="classe-a-animar" />
                    </div>
                </div>
                <div class="conteudo-esquerda flex-column">
                    <div class="blocos-informacoes sombra">
                        <span class="icone-informacoes">
                            <img src="assets/img/icone-produtor.svg" alt="√çcone Produtor" width="30" height="30">
                        </span>
                        <p>
                            <strong>Fabiano Diniz</strong> √© o dono do melhor caf√© da regi√£o das Matas de Minas com caf√© org√¢nico e plantio realizado nas montanhas. Caf√© pontuado em 88,06 no concurso Origens Brasileiras Cafebras.
                        </p>
                    </div>
                    <div class="blocos-informacoes sombra">
                        <span class="icone-informacoes">
                            <img src="assets/img/icone-aroma.svg" alt="√çcone Aroma" width="30" height="30">
                        </span>
                        <p>
                            <strong>Aroma:</strong> do√ßura de favo de mel, sutis notas de flores e perfume de frutas maduras.
                        </p>
                    </div>
                    <div class="blocos-informacoes sombra">
                        <span class="icone-informacoes">
                            <img src="assets/img/icone-notas.svg" alt="√çcone Notas Sensoriais" width="30" height="30">
                        </span>
                        <p>
                            <strong>Notas sensoriais:</strong> caramelo, que lembra calda de pudim e notas florais.
                        </p>
                    </div>
                    <div class="blocos-informacoes sombra">
                        <span class="icone-informacoes">
                            <img src="assets/img/icone-acidez.svg" alt="√çcone Acidez" width="30" height="30">
                        </span>
                        <p>
                            <strong>Acidez:</strong> frescura de ma√ß√£ verde e laranja doce.
                        </p>
                    </div>
                    <div class="blocos-informacoes sombra">
                        <span class="icone-informacoes">
                            <img src="assets/img/icone-finalizacao.svg" alt="√çcone Finaliza√ß√£o" width="30" height="30">
                        </span>
                        <p>
                            <strong>Finaliza√ß√£o:</strong> elegante e complexa.
                        </p>
                    </div>
                    <div class="produtor-badge">
                        <img src="assets/img/fabiano-badge.png" alt="">
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- TERCEIRA DOBRA -->
    <section class="lp-cafebras-sobre-cafe">
       <a href="#reservar">
        <img src="assets/img/sobre-cafebras-pre-lancamento-desktop.png" alt="Sobre os Caf√©s de Pr√©-Lan√ßaamento" class="desktop">
        <img src="assets/img/sobre-cafebras-pre-lancamento-mob.png" alt="Sobre os Caf√©s de Pr√©-Lan√ßaamento" class="mobile">
       </a>
       
        <div class="tire-suas-duvidas">
            
                <span class="btn-whatsapp">
                    <div>
                        <img src="assets/img/whatspp-icon.svg" alt="Bot√£o WhatsApp" width="30" height="30">
                    </div>
                    <div>
                        <a href="https://api.whatsapp.com/send?phone=5531991876553&text=Ol%C3%A1,%20estou%20com%20d%C3%BAvida%20na%20pr%C3%A9-reserva%20das%20edi%C3%A7%C3%B5es%20especiais%20da%20cafebras!" target="_blank">
                            TIRE SUA D√öVIDA
                        </a>
                    </div>
                </span>
                <span class="cor-secundaria">
                    <em>Segunda √† sexta, 8h as 18h</em>
                </span>
            
         </div>
    </section>
     <!-- QUARTA DOBRA -->
    <section class="lp-cafebras-todas-edicoes">
        <div class="container">
            <div class="conteudo-todas-edicoes">
                <div class="conteudo-direita-edicoes">
                    <h2 class="font-size-xl">
                        6 Caf√©s campe√µes, das 6 principais regi√µes brasileiras
                    </h2>
                    <p class="font-size-l">
                        Ao longo do ano, ser√£o 6 lan√ßamentos. Gr√£os 100% ar√°bica, torrados de forma homog√™nea e com sabores das 6 maiores regi√µes produtoras de caf√© do Brasil.
                    </p>
                    <img src="assets/img/banner-todos-cafes.png" alt="Todas as Edi√ß√µes da Cafebras 2024" class="banner-todas-edicoes">
                </div>
                <div class="conteudo-esquerda-edicoes">
                    <div class="mapa">
                        <img src="assets/img/mapa.png" alt="Todas as Edi√ß√µes da Cafebras 2024">
                    </div>
                    <div class="edicao-limitada">
                        <h3>EDI√á√ÉO LIMITADA</h3>
                    <p class="font-size-xl">
                        S√£o apenas <span class="underline">500 unidades</span> de j√≥ias raras lapidadas nos terroirs do Brasil.
                    </p>
                    </div>
                </div>
            </div>
        </div>
     </section>
    <!--  QUINTA DOBRA -->
    <section class="lp-cafebras-sobre-cafe">

        <a href="#reservar">
            <img src="assets/img/selecao-kit-6-cafes.png" alt="Kit com 6 Caf√©s" class="desktop">
            <img src="assets/img/selecao-kit-6-cafes-mob.png" alt="Kit com 6 Caf√©s" class="mobile">
        </a>
        
         <div class="tire-suas-duvidas">
             
                 <span class="btn-whatsapp">
                     <div>
                         <img src="assets/img/whatspp-icon.svg" alt="Bot√£o WhatsApp" width="30" height="30">
                     </div>
                     <div>
                         <a href="https://api.whatsapp.com/send?phone=5531991876553&text=Ol%C3%A1,%20estou%20com%20d%C3%BAvida%20na%20pr%C3%A9-reserva%20das%20edi%C3%A7%C3%B5es%20especiais%20da%20cafebras!" target="_blank">
                             TIRE SUA D√öVIDA
                         </a>
                     </div>
                 </span>
                 <span class="cor-secundaria">
                     <em>Segunda √† sexta, 8h as 18h</em>
                 </span>
          </div>
     </section>
      <!-- SEXTA DOBRA -->
    <section class="lp-escolha-o-cafe" id="reservar">

        <div class="header-tabela-preco">
            <span class="title-h1 cor-dourada">CONDI√á√ïES ESPECIAIS PARA RESERVA</span>
            <p class="font-size-m container-p">Bem-vindo(a) √† transforma√ß√£o da sua jornada de degusta√ß√£o do caf√©
                especial com os gr√£os premiados no concurso Origens Brasileiras Cafebras.</p>
        </div>
       
        <div class="escolha-de-cafes desktop">
            <div class="tabela-precos">
                <img src="assets/img/escolha-de-cafes.png" alt="Escolha o caf√©">
            </div>
            <div class="cta-comprar">
               
                    <button class="btn-compra" id="1unidade">RESERVAR</button>
               
                    <button class="btn-compra" id="2unidades">RESERVAR</button>
               
                    <button class="btn-compra" id="kit6unidades">RESERVAR</button>
               
            </div>
        </div>
        <div class="escolha-de-cafes mobile">
            
            
            <div class="escolha-de-cafes-mobile">
                <div class="produto">
                    <img src="assets/img/card-produto-01.png" alt="Produto 01">
                    <div class="space">
                        <button class="btn-compra" id="1unidade">RESERVAR</button>
                    </div>
               </div>
               <hr>
               <div class="produto">
                    <img src="assets/img/card-produto-02.png" alt="Produto 01">
                    <div class="space">
                    <button class="btn-compra" id="2unidades">RESERVAR</button>
                    </div>
               </div>
               <hr>
               <div class="produto">
                    <img src="assets/img/card-produto-03.png" alt="Produto 01">
                    <div class="space">
                    <button class="btn-compra" id="kit6unidades">RESERVAR</button>
                </div>

               </div>
            </div>
        
     </div>
        <div class="tire-suas-duvidas">
             
                 <span class="btn-whatsapp">
                     <div>
                         <img src="assets/img/whatspp-icon.svg" alt="Bot√£o WhatsApp" width="30" height="30">
                     </div>
                     <div>
                         <a href="https://api.whatsapp.com/send?phone=5531991876553&text=Ol%C3%A1,%20estou%20com%20d%C3%BAvida%20na%20pr%C3%A9-reserva%20das%20edi%C3%A7%C3%B5es%20especiais%20da%20cafebras!">
                             TIRE SUA D√öVIDA
                         </a>
                     </div>
                 </span>
                 <span class="cor-secundaria">
                     <em>Segunda √† sexta, 8h as 18h</em>
                 </span>
             
          </div>
     </section>

     
    </div>
     <!-- S√âTIMA DOBRA -->
     <section class="form">
        <div class="container flex">
            
                <div class="contador">
        
                   
            <h2>PR√â-VENDA FINALIZA EM</h2>
            <div id="countdown">
                <ul>
                  <li>
            <span id="days"></span>Dias</li>
                  <li>
            <span id="hours"></span>Horas</li>
                  <li>
            <span id="minutes"></span>Minutos</li>
                  <li>
            <span id="seconds"></span>Segundos</li>
                </ul>
              </div>
              <div id="content" class="emoji">
                <span>ü•≥</span>
                <span>üéâ</span>
              </div>
                    
                </div>
            
            <div class="formulario" id="form">
                <form id="myForm" action="https://hook.us1.make.com/0t8blskdktdzg1dvv90fcdefxirze46g" method="post" onsubmit="handleSubmit(event)">
                    <label for="nome" class="label">Nome: *</label><br>
                    <input type="text" id="nome" name="nome" value="" placeholder="Digite Seu Nome" required><br><br>

                    <!-- <label for="sobrenome">Sobrenome: *</label><br>
                    <input type="text" id="sobrenome" name="sobrenome" value="" placeholder="Digite Seu sobrenome" required><br><br> -->

                    <label for="telefone">Telefone Celular: *</label><br>
                    <input type="text" id="telefone" name="tel" value="" placeholder="(XX) XXXXX-XXXX" oninput="mascaraTelefone(this)" maxlength="15" inputmode="tel" required><br><br>


                    <label for="minha-escolha">Minha escolha: *</label><br>
                    <select name="cafe-especial" id="escolha-cafe" required>
                        <!-- <option value="MATAS DE MINAS" name="cafe-especial" class="xpto">MATAS DE MINAS</option> -->
                        <option value="MATAS DE MINAS" name="cafe-especial">CAF√â MATAS DE MINAS</option>
                        <option value="KIT 6 CAFES + MOEDOR" name="cafe-especial">COLE√á√ÉO COMPLETA + MOEDOR</option>
                    </select><br><br>

                    <div id="quantidade">
                        <label for="quantidade">Escolha a Quantidades de Caf√©s: *</label><br>
                        <div class="seletor-quantidade">
                            <button id="menos"> - </span></button>
                            <input type="number" inputmode="numeric" maxlength="2" max="10" value="1" id="quantidade-selecao" name="quantidade-selecao" required><br><br>
                        <button id="mais"> + </button>
                        </div>
                    </div>

                    <div id="parcelamento">
                        <label for="minha-escolha">Parcelamento: *</label><br>
                            <select name="parcelas" id="parcelas">
                                <option value="1 VEZ" name="parcelas" data-parcerla="1">1 PARCELA √öNICA</option>
                                <option value="2 VEZES" name="parcelas" data-parcerla="2">2x SEM JUROS</option>
                                <option value="3 VEZES" name="parcelas" data-parcerla="3">3x SEM JUROS</option>
                                <option value="4 VEZES" name="parcelas" data-parcerla="4">4x SEM JUROS</option>
                                <option value="5 VEZES" name="parcelas" data-parcerla="5">5x SEM JUROS</option>
                                <option value="6 VEZES" name="parcelas" data-parcerla="6" selected>6x SEM JUROS</option>
                            </select><br><br>
                    </div>

                    <label for="email">E-mail de Assinante: *</label><br>
                    <input type="email" id="email" name="email" value="" placeholder="Digite E-mail da Sua Assinatura" required><br><br>

                    <input type="hidden" value="" id="time-stamp" name="time-stamp">
                    <input type="hidden" value="" id="utms" name="utms">

                    <div class="total">

                    </div>
                    <input type="submit" value="RESERVAR MEU CAF√â">
                    <div class="aceite">
                        <em>Ao reservar este produto, estou ciente que irei receber o mesmo na minha assinatura e que o valor ser√° debitado do meu cart√£o de acordo com os itens selecionados.</em>
                    </div>
                </form>
            </div>
        </div>
     </section>




</main>

<script>
    ScrollReveal().reveal('.blocos-informacoes',{ delay: 500 });
    ScrollReveal().reveal('.produtor-badge',{ delay: 1000 });
    ScrollReveal().reveal('.mapa',{ delay: 500 });
    ScrollReveal().reveal('.banner-todas-edicoes',{ delay: 500 });

    let dadosCafe = {
        precoNormal: 50.00,
        precoPromocional: 40.60,
    }

    const btnComprar = document.querySelectorAll('.btn-compra');
    const form = document.querySelector('form');
    const escolha = document.querySelector('#escolha-cafe');
    const quantidade = document.querySelector("#quantidade");
    const quantidadeSeletor = document.querySelector("#quantidade-selecao")
    const parcelamento = document.querySelector("#parcelamento");
    const parcelas = document.querySelector("#parcelas");
    const totalDiv = document.querySelector(".total");
    const menos = document.querySelector('#menos');
    const mais = document.querySelector('#mais');

    var indexParcelas = parcelas.options[parcelas.selectedIndex];
    var dataParcerlaValue = indexParcelas.getAttribute("data-parcerla");



    

    const dataEnvio = document.querySelector("#time-stamp");
    const timeStamp = new Date();
    const dataFormatada = timeStamp.toLocaleDateString('pt-BR');
    const horaFormatada = timeStamp.toLocaleTimeString('pt-BR');
    dataEnvio.value = `${dataFormatada} - ${horaFormatada}`;


    const urlLp = new URL(window.location.href);

    const utmImput = document.querySelector("#utms");
    // Obter valores dos par√¢metros de pesquisa
    const nome = urlLp.searchParams.get('nome');
    const email = urlLp.searchParams.get('email');
    const utmSource = urlLp.searchParams.get('utm_source');
    const utmCampaign = urlLp.searchParams.get('utm_campaign');
    const utmMedium = urlLp.searchParams.get('utm_medium');
    const utmContent = urlLp.searchParams.get('utm_content');

    let utms = [utmSource, utmMedium, utmCampaign, utmContent];
    sessionStorage.setItem('utms',utms);
    const valores =  sessionStorage.getItem('utms');
    utmImput.value = valores;

    if ( nome !== "" || email !== ""){
        form.nome.value = nome;
        form.email.value = email;
    }

    const urlBase = window.location;
    const urlForm = `${urlBase}#form`;
    // const urlForm = 'https://lucasvida.github.io/lp-cafebras/#form'


    parcelas.value = " ";
    

    for (let btnCompra of btnComprar){
        btnCompra.addEventListener('click',()=> {
            if(btnCompra.id === '1unidade'){
                parcelamento.style.display = "none";
                quantidade.style.display = "block";
                parcelas.value = " ";
                quantidadeSeletor.value = "1";
                escolha.value = 'MATAS DE MINAS';
                atualizaTotal(1);
                window.location = urlForm;
            }else if(btnCompra.id === '2unidades'){
                escolha.value = 'MATAS DE MINAS';
                parcelamento.style.display = "none";
                quantidade.style.display = "block";
                quantidadeSeletor.value = "2";
                atualizaTotal(2);
                parcelas.value = " ";
                window.location = urlForm;
            }else if(btnCompra.id === 'kit6unidades'){
                quantidadeSeletor.value = "0";
                quantidade.style.display = "none";
                parcelamento.style.display = "block";
                escolha.value = 'KIT 6 CAFES + MOEDOR';
                parcelas.value = "6 VEZES";
                // Obt√©m a op√ß√£o selecionada
                totalDiv.innerHTML = `Total do seu pedido: R$300,00 <br> (em 6 parcelas de ${parseFloat(300 / 6).toLocaleString("pt-BR",{style: "currency",currency: "BRL",})})`;
                window.location = urlForm;
            } else {
                alert("Erro ao escolher");
            }
        })
    }


    function atualizaTotal(quantidadeCafes){
        if(quantidadeCafes === 1){
            totalDiv.innerHTML = `Total do seu pedido: ${parseFloat(quantidadeCafes * dadosCafe.precoNormal).toLocaleString("pt-BR",{style: "currency",currency: "BRL",})}`;
        } else {
            totalDiv.innerHTML = `Total do seu pedido: ${parseFloat(quantidadeCafes * dadosCafe.precoPromocional).toLocaleString("pt-BR",{ style: "currency", currency: "BRL",})}`;
    };
        
    }

    atualizaTotal(1);

    escolha.addEventListener('change',()=>{
       console.log(escolha.value);
       if(escolha.value === 'MATAS DE MINAS'){
            parcelamento.style.display = "none";
            quantidade.style.display = "block";
            quantidadeSeletor.value = 1;
            atualizaTotal(1);
            parcelas.value = " ";
       } else if(escolha.value === 'KIT 6 CAFES + MOEDOR'){

            parcelamento.style.display = "block";
            quantidade.style.display = "none";
            quantidadeSeletor.value = "0";
            parcelas.value = "6 VEZES";
            totalDiv.innerHTML = `Total do seu pedido: R$300,00 <br> (em ${dataParcerlaValue} parcelas de ${parseFloat(300 / dataParcerlaValue).toLocaleString("pt-BR",{style: "currency",currency: "BRL",})})`;
            parcelas.addEventListener('change',()=>{
            indexParcelas = parcelas.options[parcelas.selectedIndex];
            dataParcerlaValue = indexParcelas.getAttribute("data-parcerla");
            if ( dataParcerlaValue != 1){
                totalDiv.innerHTML = `Total do seu pedido: R$300,00 <br> (em ${dataParcerlaValue} parcelas de ${parseFloat(300 / dataParcerlaValue).toLocaleString("pt-BR",{style: "currency",currency: "BRL",})})`;
            } else {
                totalDiv.innerHTML = `Total do seu pedido: R$300,00 (Parcela √önica)`;
            }
    })

            
       } else {
        alert("Erro ao Selecionar");
       }

       

    })      


    quantidadeSeletor.addEventListener('change', ()=>{
        if(quantidadeSeletor.value <= 1){
            quantidadeSeletor.value = 1;
            atualizaTotal(1);
        } else {
            atualizaTotal(quantidadeSeletor.value);
        }
    })


    mais.addEventListener('click',(event)=>{
        event.preventDefault();
        quantidadeSeletor.value =+  quantidadeSeletor.value + 1;
        if(quantidadeSeletor.value >= 10){
            quantidadeSeletor.value = 10;
        }
        atualizaTotal(quantidadeSeletor.value);
    })

    menos.addEventListener('click',(event)=>{
        event.preventDefault();
        quantidadeSeletor.value =  quantidadeSeletor.value - 1;
        if(quantidadeSeletor.value <= 1){
            quantidadeSeletor.value = 1;
            atualizaTotal(1);
        } else {
            atualizaTotal(quantidadeSeletor.value);
        }
        
    })

    

    





    //Contador

    (function () {
      const second = 1000,
            minute = second * 60,
            hour = minute * 60,
            day = hour * 24;
    
      //I'm adding this section so I don't have to keep updating this pen every year :-)
      //remove this if you don't need it
      let today = new Date(),
          dd = String(today.getDate()).padStart(2, "0"),
          mm = String(today.getMonth() + 1).padStart(2, "0"),
          yyyy = today.getFullYear(),
          nextYear = yyyy + 1,
          dayMonth = "04/10/",
          birthday = dayMonth + yyyy;
      
      today = mm + "/" + dd + "/" + yyyy;
      if (today > birthday) {
        birthday = dayMonth + nextYear;
      }
      //end
      
      const countDown = new Date(birthday).getTime(),
          x = setInterval(function() {    
    
            const now = new Date().getTime(),
                  distance = countDown - now;
    
            document.getElementById("days").innerText = Math.floor(distance / (day)),
              document.getElementById("hours").innerText = Math.floor((distance % (day)) / (hour)),
              document.getElementById("minutes").innerText = Math.floor((distance % (hour)) / (minute)),
              document.getElementById("seconds").innerText = Math.floor((distance % (minute)) / second);
    
            //do something later when date is reached
            if (distance < 0) {
              document.getElementById("headline").innerText = "Pr√©-Venda Finalizada";
              document.getElementById("countdown").style.display = "none";
              document.getElementById("content").style.display = "block";
              document.getElementById("myForm").style.display = "none";
              clearInterval(x);
            }
            //seconds
          }, 0)
      }());


      function handleSubmit(event) {
            event.preventDefault(); // Evita o envio padr√£o do formul√°rio

            
            // Envie os dados do formul√°rio para o webhook usando fetch ou outra biblioteca de sua escolha
            fetch('https://hook.us1.make.com/0t8blskdktdzg1dvv90fcdefxirze46g', {
                method: 'POST',
                body: new FormData(document.getElementById('myForm'))
            })
            .then(response => {
                if (response.ok) {
                    // Redirecionar o usu√°rio ap√≥s o envio bem-sucedido
                    window.location.href = 'https://coffeemais.com/pages/obrigado-por-reservar-o-seu-cafe';
                } else {
                    // Handle errors
                    console.error('Erro ao enviar formul√°rio');
                }
            })
            .catch(error => {
                console.error('Erro:', error);
            });
        }


        //Valida Telefone
        function mascaraTelefone(input) {
        var telefone = input.value.replace(/\D/g, '');

        // Verifica se o usu√°rio pressionou a tecla "Backspace"
        if (event && event.inputType === "deleteContentBackward") {
            input.value = '';
            return;
        }

        var padrao = /(\d{2})(\d{0,5})(\d{0,4})/;
        var telefoneFormatado = telefone.replace(padrao, function(match, p1, p2, p3) {
            var numeroFormatado = '(' + p1 + ') ';
            if (p2 !== '') {
            numeroFormatado += p2 + (p3 !== '' ? '-' : '');
            }
            numeroFormatado += p3;
            return numeroFormatado;
        });
        input.value = telefoneFormatado;

        // Define a posi√ß√£o do cursor ap√≥s a formata√ß√£o
        var cursorPos = input.selectionStart;
        var lastParenthesisPos = input.value.lastIndexOf(')');
        var firstSpaceAfterParenthesisPos = input.value.indexOf(' ', lastParenthesisPos);
        if (cursorPos > firstSpaceAfterParenthesisPos) {
            cursorPos++;
        }
        input.setSelectionRange(cursorPos, cursorPos);
        }
    
</script>
</body>
</html>